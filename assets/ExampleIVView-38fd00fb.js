import{d as k,r as f,b as p,e as E,f as S,o as u,c as M,w as C,a as n,n as _,u as h,G as D,h as d,x as F,D as b,t as y,p as w,F as N,i as P,H as z,T as J,y as L,z as T,_ as K}from"./index-1886e7ec.js";import{_ as j}from"./VField.vue_vue_type_script_setup_true_lang-001151a9.js";const $=e=>(L("data-v-ca28a315"),e=e(),T(),e),G={class:"input-group"},H=["value","maxlength","disabled"],U=["disabled"],O=$(()=>n("em",{class:"bi bi-x-lg me-1"},null,-1)),Q=[O],R=["disabled"],W=$(()=>n("em",{class:"bi bi-search me-1"},null,-1)),X=[W],Y={key:0,class:"text-sm-start msg-font"},Z={key:1,class:"text-sm-start text-danger msg-font"},ee=["onClick"],te={class:"item"},ae=k({__name:"VAutoComplete",props:{modelValue:{default:null},id:{default:"id"},description:{default:"description"},maxlength:{default:50},width:{default:250},searchFn:null,interval:{default:2},label:null,disabled:{type:Boolean,default:!1},required:{type:Boolean,default:!1},failures:{default:()=>[]}},emits:["update:model-value"],setup(e,{emit:m}){const o=e,s=f(),i=p(()=>o.modelValue?o.modelValue[o.description]:null),t=f([]),r=f(!1),v=f(null),g=p(()=>o.failures.length>0),x=p(()=>g.value?"btn-outline-danger":"btn-outline-secondary");E(i,c=>{s.value=c});async function B(c){let a=c.target.value;if(s.value=a,v.value=null,!a){t.value=[];return}if(a.length>=o.interval&&a.length%o.interval===0){t.value=[],r.value=!0;try{const l=await o.searchFn(a);t.value=l}catch(l){t.value=[],v.value=typeof l=="string"?l:"Erro ao pesquisar."}finally{r.value=!1}}}function q(c){s.value=c[o.description],t.value=[],m("update:model-value",c)}function V(){s.value=null,t.value=[],v.value=null,m("update:model-value",null)}function I(){s.value=i.value}return S(I),(c,a)=>(u(),M(j,{label:e.label,required:e.required,failures:e.failures},{default:C(()=>[n("div",G,[n("input",{class:_(["form-control form-control-sm",{"is-invalid":h(g)}]),type:"text",value:s.value,maxlength:e.maxlength,disabled:e.disabled,onInput:a[0]||(a[0]=l=>B(l)),onKeyup:a[1]||(a[1]=D(l=>V(),["esc"]))},null,42,H),s.value?(u(),d("button",{key:0,class:_(["btn btn-sm",h(x)]),type:"button",disabled:e.disabled,onClick:a[2]||(a[2]=l=>V())},Q,10,U)):(u(),d("button",{key:1,class:_(["btn btn-sm",h(x)]),type:"button",readonly:"",disabled:e.disabled,onClick:a[3]||(a[3]=F(()=>{},["prevent"]))},X,10,R))]),r.value?(u(),d("p",Y,"Pesquisando...")):b("",!0),v.value?(u(),d("p",Z,y(v.value),1)):b("",!0),w(J,{name:"autocompletefade"},{default:C(()=>[t.value.length>0?(u(),d("ul",{key:0,class:"autocomplete",style:z({"min-width":`${e.width}px`})},[(u(!0),d(N,null,P(t.value,(l,A)=>(u(),d("li",{key:A,onClick:re=>q(l)},[n("span",te,y(l[e.description]),1)],8,ee))),128))],4)):b("",!0)]),_:1})]),_:1},8,["label","required","failures"]))}});const se=K(ae,[["__scopeId","data-v-ca28a315"]]),le={class:"container"},ne=n("p",null,"Exemplo de componentes IV - autocomplete",-1),oe={class:"row"},ue={class:"col"},ie={class:"col"},de=n("p",null,"auto complete model:",-1),ve=k({__name:"ExampleIVView",setup(e){const m=[{id:1,name:"Daniel",status:!0},{id:2,name:"Mirabel",status:!1},{id:3,name:"Davi",status:!0},{id:4,name:"Valéria",status:!0},{id:5,name:"Arimatéia",status:!1},{id:6,name:"Alex",status:!0},{id:7,name:"Maria",status:!0},{id:8,name:"José",status:!1},{id:9,name:"Joana",status:!0},{id:10,name:"Tiago",status:!0}],o=i=>{if(i){i=i.toLowerCase();const t=m.filter(r=>r.name.toLowerCase().includes(i));return t&&t.length>0?Promise.resolve(t):Promise.reject("Nenhum registro encontrado.")}else return Promise.resolve(m)},s=f({id:8,name:"José"});return(i,t)=>(u(),d("div",le,[ne,n("div",oe,[n("div",ue,[w(se,{id:"id",modelValue:s.value,"onUpdate:modelValue":t[0]||(t[0]=r=>s.value=r),label:"Auto Complete",description:"name","search-fn":o},null,8,["modelValue"])]),n("div",ie,[de,n("pre",null,y(s.value),1)])])]))}});export{ve as default};
